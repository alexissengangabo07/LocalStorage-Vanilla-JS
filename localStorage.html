<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>localStorage</title>
</head>
<body>
    <div align="center">
        <h2><a href="javascript:void(0)"> localStorage With JavaScript</a></h2>
        <form>
            <div>
                <input type="text" id="uName" placeholder="Enter the username.." /><br><br>
            </div>
            <div>
                <input type="text" id="fProgramming" placeholder="Enter your favorite programming language.." /><br><br>
            </div>
            <div>
                <input type="text" id="fFramework" placeholder="Enter your favorite framework.." /><br><br>
            </div>
            <div>
                <input type="text" id="fLabary" placeholder="Enter your favorite library.." /><br><br>
            </div>
            
            <button id="save">Save To localStorage</button>
            <button id="load">Load From localStorage</button>
        </form>
        <hr />
        <div>
            <p>
                <button id="decrementCounter">0</button>
                <button id="incrementCounter">0</button>
            </p>
            <p id="displayTimes"></p>
        </div>
    </div>
    <script>
        let uName = document.querySelector('#uName');
        let fProgramming = document.querySelector('#fProgramming');
        let fFramework = document.querySelector('#fFramework');
        let fLabary = document.querySelector('#fLabary');

        const saveBtn = document.querySelector('#save');
        const loadBtn = document.querySelector('#load');

        const save = (name, plang, framework, library) => {
            if(name != '' && plang != '' && framework != '' && library != '') {
                localStorage._uName = name;
                localStorage._fProgramming = plang;
                localStorage._fFramework = framework;
                localStorage._fLibrary = library;

                uName.value = '';
                fProgramming.value = '';
                fFramework.value = '';
                fLabary.value = '';
                
                alert('Datas Saved Successfuly');
            }
            else {
                alert(`All fields are required`);
            }
        }

        const load = (name, plang, framework, library) => {
            uName.value = name;
            fProgramming.value = plang;
            fFramework.value = framework;
            fLabary.value = library;
        }

        saveBtn.addEventListener('click', (e) =>{
            e.preventDefault();
            save(uName.value, fProgramming.value, fFramework.value, fLabary.value);
        });
        loadBtn.addEventListener('click', (e) =>{
            e.preventDefault();
            load(localStorage._uName, localStorage._fProgramming, localStorage._fFramework , localStorage._fLibrary);
        });

        window.onload= () => { displayNumber(); console.log(window.location.pathname) };

        //Btn Count
        let time = (localStorage.getItem(`time`)) ? localStorage.getItem(`time`) : 0;
        const displayNumber = () => { decrementCounter.textContent = `${time} - 1`; incrementCounter.textContent = `${time} + 1`; displayTimes.textContent = `Button clicked ${time} times` };
        
        incrementCounter.addEventListener(`click`, e => {
            time++;
            localStorage.setItem(`time`, time);
            displayNumber();
        });
        decrementCounter.addEventListener(`click`, e => {
            time--;
            localStorage.setItem(`time`, time);
            displayNumber();
        });
        
       
    </script>
</body>
</html>